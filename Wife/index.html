<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>For You, Shivani</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>❤️</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Preloader -->
    <div id="preloader">
        <div class="loader-heart">
            <div class="heart-shape"></div>
            <p class="loading-text">Preparing something special...</p>
        </div>
    </div>

    <!-- Floating Hearts Background -->
    <div id="floating-hearts"></div>

    <!-- Petal Rain -->
    <div id="petal-rain"></div>

    <!-- Landing Section -->
    <section id="landing" class="active">
        <div class="sparkle-overlay"></div>
        <div class="landing-content">
            <div class="envelope" id="envelope">
                <div class="envelope-flap"></div>
                <div class="envelope-body">
                    <div class="letter">
                        <p class="letter-text">Tap to open</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Message Section -->
    <section id="message-section">
        <div class="message-content">
            <h1 class="title-line title-for">For My</h1>
            <h1 class="title-line title-name">Shivani</h1>
            <div class="heart-divider">
                <span class="divider-line"></span>
                <span class="divider-heart">&hearts;</span>
                <span class="divider-line"></span>
            </div>
            <p class="subtitle typewriter" id="typewriter"></p>
            <div class="message-poem" id="poem">
                <p class="poem-line" style="--delay: 0">In every heartbeat, your name echoes,</p>
                <p class="poem-line" style="--delay: 1">In every dream, your smile glows.</p>
                <p class="poem-line" style="--delay: 2">You are my today, my tomorrow, my forever,</p>
                <p class="poem-line" style="--delay: 3">My love for you fades? Never.</p>
                <p class="poem-signature" style="--delay: 4">&mdash; Your Pritam</p>
            </div>
            <button class="gift-btn" id="openGiftBtn">
                <span class="btn-icon">&#127873;</span>
                <span class="btn-text">Open Your Gift</span>
                <span class="btn-shimmer"></span>
            </button>
        </div>
    </section>

    <!-- AR Section -->
    <section id="ar-section">
        <div id="ar-overlay" class="ar-overlay">
            <div class="ar-instructions" id="ar-instructions">
                <div class="ar-icon">
                    <svg viewBox="0 0 100 100" class="camera-icon">
                        <rect x="20" y="30" width="60" height="45" rx="5" fill="none" stroke="currentColor" stroke-width="3"/>
                        <circle cx="50" cy="52" r="12" fill="none" stroke="currentColor" stroke-width="3"/>
                        <rect x="38" y="25" width="24" height="8" rx="2" fill="none" stroke="currentColor" stroke-width="3"/>
                    </svg>
                </div>
                <h2>AR Experience</h2>
                <p>Point your camera at a flat surface</p>
                <p class="ar-sub">Tap anywhere to place your gift</p>
                <button class="ar-start-btn" id="startARBtn">
                    <span>Start Camera</span>
                </button>
                <button class="ar-skip-btn" id="skipARBtn">
                    View without camera
                </button>
            </div>
        </div>
        <video id="camera-feed" autoplay playsinline></video>
        <canvas id="ar-canvas"></canvas>
        <div id="ar-ui" class="ar-ui hidden">
            <div class="ar-crosshair" id="crosshair">
                <div class="crosshair-ring"></div>
                <div class="crosshair-dot"></div>
            </div>
            <div class="ar-tap-hint" id="tapHint">
                <p>Tap to place gift here</p>
            </div>
            <button class="ar-reset-btn" id="resetBtn">Reset</button>
        </div>
        <div id="scene-container"></div>
    </section>

    <!-- Music Toggle -->
    <button class="music-toggle" id="musicToggle" title="Toggle Music">
        <svg class="music-on" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
        </svg>
        <svg class="music-off" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
            <line x1="3" y1="3" x2="21" y2="21" stroke="currentColor" stroke-width="2"/>
        </svg>
    </button>

    <!-- Finale overlay -->
    <div id="finale-overlay" class="finale-overlay hidden">
        <div class="finale-content">
            <h1 class="finale-title">I Love You</h1>
            <h2 class="finale-name">Shivani</h2>
            <p class="finale-sub">Forever & Always</p>
            <p class="finale-from">&mdash; Pritam</p>
            <div class="finale-hearts"></div>
            <button class="replay-btn" id="replayBtn">Experience Again</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="js/music.js"></script>
    <script src="js/ar-scene.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
